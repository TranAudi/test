<nz-modal
  [(nzVisible)]="isVisible"
  [nzTitle]="modalTitle"
  [nzContent]="modalContent"
  [nzFooter]="modalFooter"
  nzMaskClosable="false"
  nzWidth="1000px"
  (nzOnCancel)="handleCancel()"
>
  <ng-template #modalTitle> {{ tittle }} </ng-template>

  <ng-template #modalContent>
    <form nz-form [formGroup]="form" (ngSubmit)="save()">
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="code">{{ 'function.email-template.modal.form.code' | i18n }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24" nzErrorTip="{{ 'function.email-template.modal.form.code.required' | i18n }}">
          <input
            nz-input
            formControlName="code"
            id="code"
            placeholder="{{ 'function.email-template.modal.form.code.place-holder' | i18n }}"
          />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="name">{{ 'function.email-template.modal.form.name' | i18n }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24" nzErrorTip="{{ 'function.email-template.modal.form.name.required' | i18n }}">
          <input
            nz-input
            formControlName="name"
            id="name"
            placeholder="{{ 'function.email-template.modal.form.name.place-holder' | i18n }}"
          />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="subject">{{
          'function.email-template.modal.form.subject' | i18n
        }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24" nzErrorTip="{{ 'function.email-template.modal.form.subject.required' | i18n }}">
          <input
            nz-input
            formControlName="subject"
            id="subject"
            placeholder="{{ 'function.email-template.modal.form.subject.place-holder' | i18n }}"
          />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="template">{{
          'function.email-template.modal.form.template' | i18n
        }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24" nzErrorTip="{{ 'function.email-template.modal.form.template.required' | i18n }}">
          <!-- <input
            nz-input
            formControlName="template"
            id="template"
            placeholder="{{ 'function.email-template.modal.form.template.place-holder' | i18n }}"
          /> -->
          <ckeditor
            formControlName="template"
            id="template"
            [editor]="Editor"
            #editor
            [config]="config"
            (ready)="onEditorReady($event)"
          ></ckeditor>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="cc">{{ 'function.email-template.modal.form.cc' | i18n }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24">
          <nz-select
            nzMode="tags"
            nzPlaceHolder="{{ 'function.email-template.modal.form.cc.place-holder' | i18n }}"
            formControlName="cc"
            id="cc"
          ></nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="bcc">{{ 'function.email-template.modal.form.bcc' | i18n }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24">
          <nz-select
            nzMode="tags"
            nzPlaceHolder="{{ 'function.email-template.modal.form.bcc.place-holder' | i18n }}"
            formControlName="bcc"
            id="bcc"
          ></nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="fromEmail">{{ 'function.email-template.modal.form.fromEmail' | i18n }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24">
          <input
            nz-input
            formControlName="fromEmail"
            id="fromEmail"
            placeholder="{{ 'function.email-template.modal.form.fromEmail.place-holder' | i18n }}"
          />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="fromUser">{{ 'function.email-template.modal.form.fromUser' | i18n }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24">
          <input
            nz-input
            formControlName="fromUser"
            id="fromUser"
            placeholder="{{ 'function.email-template.modal.form.fromUser.place-holder' | i18n }}"
          />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="isHighPriority">{{
          'function.email-template.modal.form.isHighPriority' | i18n
        }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24">
          <label nz-checkbox formControlName="isHighPriority" id="isHighPriority"></label>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="isActive">{{ 'function.email-template.modal.form.isActive' | i18n }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24">
          <label nz-checkbox formControlName="isActive" id="isActive"></label>
        </nz-form-control>
      </nz-form-item>
      <!-- <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="order">{{ 'function.email-template.modal.form.order' | i18n }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24">
          <input nz-input type="number" min="0" step="1" formControlName="order" id="order" />
        </nz-form-control>
      </nz-form-item> -->
      <!-- <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="description">{{
          'function.email-template.modal.form.description' | i18n
        }}</nz-form-label>
        <nz-form-control [nzSm]="17" [nzXs]="24">
          <input
            nz-input
            formControlName="description"
            id="description"
            placeholder="{{ 'function.email-template.modal.form.description.place-holder' | i18n }}"
          />
        </nz-form-control>
      </nz-form-item> -->
    </form>
  </ng-template>

  <ng-template #modalFooter>
    <button
      nz-button
      nzType="primary"
      class="btn-secondary"
      *ngIf="isInfo && btnEdit.visible && btnEdit.grandAccess"
      (click)="btnEdit.click($event)"
    >
      <i nz-icon nzType="edit" nzTheme="fill"></i>{{ btnEdit.title }}
    </button>
    <button
      nz-button
      nzType="primary"
      class="btn-primary"
      *ngIf="!isInfo && btnSave.visible && btnSave.grandAccess"
      [nzLoading]="isLoading"
      (click)="btnSave.click($event)"
    >
      <i nz-icon nzType="save" nzTheme="fill"></i>{{ btnSave.title }}
    </button>
    <button
      nz-button
      nzType="default"
      class="btn-warning"
      *ngIf="btnCancel.visible && btnCancel.grandAccess"
      (click)="btnCancel.click($event)"
    >
      <i nz-icon nzType="close-circle" nzTheme="fill"></i>{{ btnCancel.title }}
    </button>
  </ng-template>
</nz-modal>
